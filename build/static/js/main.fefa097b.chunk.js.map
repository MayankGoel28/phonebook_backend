{"version":3,"sources":["components/ShowDeets.js","components/ConfirmNotif.js","components/ErrorNotif.js","components/SubForm.js","services/dbservices.js","components/EachDeet.js","components/App.js","index.js"],"names":["ShowDeets","props","thing","persons","newKey","filter","person","a","b","masterStr","toLowerCase","subStr","includes","checkInclusion","name","map","EachDeet","setErr","setPersons","key","id","number","ConfirmNotif","console","log","message","setTimeout","setMessage","className","ErrorNotif","err","SubForm","useState","setKey","value","onChange","event","target","onSubmit","addDeet","newName","handleName","newNum","handleNum","type","dburl","axios","get","newObject","post","delete","put","deleteEntry","window","confirm","preventDefault","unDelete","apiserv","then","response","catch","error","object","style","float","App","totalid","setID","useEffect","data","maxid","reduce","num","setNewName","setNewNum","newobj","length","check","i","doesNotExist","newPerson","push","editID","find","editPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fefa097b.chunk.js","sourcesContent":["import React from 'react'\n\nconst ShowDeets = (props) => {\n    let thing = props.persons\n    function checkInclusion(a, b) {\n        const masterStr = a.toLowerCase();\n        const subStr = b.toLowerCase();\n        return masterStr.includes(subStr)\n    }\n    if (!(props.newKey === '')) {\n        thing = props.persons.filter((person) => checkInclusion(person.name, props.newKey))\n    }\n    return (\n        <div>\n            {\n                thing.map((person) =>\n                    <props.EachDeet setErr={props.setErr} persons={props.persons} setPersons={props.setPersons} key={person.id} id={person.id} person={person.name} number={person.number} />)\n            }\n        </div>\n    )\n}\n\nexport default ShowDeets","import React from 'react'\nimport '../index.css'\nconst ConfirmNotif = (props) => {\n    console.log('confirm ho raha bro')\n    if (props.message == null) {\n        return null\n    }\n    setTimeout(() => {\n        props.setMessage(null)\n    }, 1000)\n    return (\n\n        < div className='confirm'>\n            <p>{props.message}</p>\n        </div >\n    )\n}\n\nexport default ConfirmNotif","import React from 'react'\nimport '../index.css'\nconst ErrorNotif = (props) => {\n    console.log('error ho raha bro')\n    if (props.err == null) {\n        return null\n    }\n    setTimeout(() => {\n        props.setErr(null)\n    }, 1000)\n    return (\n        < div className='error'>\n            <p>{props.err}</p>\n        </div >\n    )\n}\n\nexport default ErrorNotif","import React, { useState } from 'react'\nimport ShowDeets from './ShowDeets.js'\nimport ConfirmNotif from './ConfirmNotif.js'\nimport ErrorNotif from './ErrorNotif.js'\n\nconst SubForm = (props) => {\n  const [newKey, setKey] = useState('')\n  const handleSearch = (event) => {\n    setKey(event.target.value)\n  }\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <form>\n        <div>\n          filter: <input value={newKey} onChange={handleSearch} />\n        </div>\n      </form>\n      <ConfirmNotif setMessage={props.setMessage} message={props.message} />\n      <ErrorNotif setErr={props.setMessage} err={props.err} />\n      <h2> Add new </h2>\n      <form onSubmit={props.addDeet}>\n        <div>\n          name: <input value={props.newName} onChange={props.handleName} />\n        </div>\n        <div>\n          number: <input value={props.newNum} onChange={props.handleNum} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      {<ShowDeets setErr={props.setErr} setPersons={props.setPersons} newKey={newKey} persons={props.persons} EachDeet={props.EachDeet} />}\n    </div>\n  )\n}\n\nexport default SubForm","import React from 'react'\nimport axios from 'axios'\n\nconst dburl = '/api/persons'\n\nconst fetchy = () => {\n    return axios.get(dburl)\n}\n\nconst posty = (newObject) => {\n    return axios.post(dburl, newObject)\n}\n\nconst delety = (id) => {\n    return axios.delete(`${dburl}/${id}`)\n}\n\nconst putty = (id, newObject) => {\n    return axios.put(`${dburl}/${id}`, newObject)\n}\nexport default {\n    fetchy,\n    posty,\n    delety,\n    putty\n}\n","import React from 'react'\nimport apiserv from '../services/dbservices.js'\n\nconst EachDeet = (object) => {\n    console.log()\n    return (\n        <form onSubmit={(event) => deleteEntry(object.id, event, object.setPersons, object.persons,object.setErr)}>\n            <p>{object.person} {object.number}</p>\n            <button type=\"submit\" style={{ float: \"right\" }}>delete</button>\n        </form>\n    )\n}\n\nconst deleteEntry = (key, event, setPersons, persons,setErr) => {\n    if (window.confirm(\"Confirm deletion?\")) {\n        console.log('initial key is', key)\n        event.preventDefault()\n        let unDelete = ''\n        const thing = persons.filter((person) => {\n            if (person.id !== key) return person\n            else unDelete = person.name\n        })\n        setPersons(thing)\n        apiserv\n            .delety(key)\n            .then(response => console.log('deleted key', key))\n            .catch(error => {setErr(`${unDelete} is already deleted.`)})\n    }\n\n}\n\nexport default EachDeet","import React, { useState, useEffect } from 'react'\nimport SubForm from './SubForm.js'\nimport EachDeet from './EachDeet.js'\nimport apiserv from '../services/dbservices.js'\n\n\nfunction doesNotExist(check, newobj) {\n  for (var i = 0; i < newobj.length; i++) {\n    if (newobj[i].name == check) {\n      return (\n        false\n      )\n    }\n  }\n  return (true)\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [totalid, setID] = useState(0)\n  useEffect(() => {\n    console.log('effect for fetch')\n    apiserv\n      .fetchy()\n      .then(response => {\n        console.log('promise fulfilled')\n        setPersons(response.data)\n        console.log(response.data)\n        let maxid = 0\n        maxid = (response.data).reduce((maxid, num) => maxid < num.id ? num.id : maxid, 0);\n        setID(maxid > 0 ? maxid + 1 : 1)\n        console.log(\"id set is\", maxid)\n      })\n  }, [])\n\n  const [newName, setNewName] = useState('')\n  const [newNum, setNewNum] = useState('')\n  const [message, setMessage] = useState(null)\n  const [err, setErr] = useState(null)\n\n  const addDeet = (event) => {\n    event.preventDefault()\n    let newobj = [...persons]\n    console.log(newobj)\n    if (newobj.length == 0 || doesNotExist(newName, newobj)) {\n      const newPerson = { name: newName, number: newNum, id: totalid }\n      setID(totalid + 1)\n      newobj.push(newPerson)\n      setPersons(newobj)\n      apiserv\n        .posty(newPerson)\n        .then(response => console.log('added a dude with', totalid))\n    }\n    else {\n      const editID = persons.find((person) => {\n        if (person.name === newName) {\n          return person.id\n        }\n      })\n      let editPerson = {}\n      newobj = persons.map((person) => {\n        if (person.name === newName) {\n          editPerson = { ...person, number: newNum }\n          console.log(editPerson, 'is edit person')\n          return editPerson\n        }\n        else return person\n      })\n      console.log(newobj)\n      setPersons(newobj)\n      apiserv\n        .putty(editID.id, editPerson)\n        .then(response => console.log('edited', newName))\n    }\n    setMessage('Edit successful')\n    setNewName('')\n    setNewNum('')\n  }\n  const handleName = (event) => {\n    setNewName(event.target.value)\n    console.log(newName)\n  }\n  const handleNum = (event) => {\n    setNewNum(event.target.value)\n    console.log(newNum)\n  }\n  return (\n    <SubForm setMessage={setMessage} message={message} setErr={setMessage} err={err} addDeet={addDeet} setPersons={setPersons} newName={newName} newNum={newNum} handleName={handleName} handleNum={handleNum} persons={persons} EachDeet={EachDeet} />\n  )\n\n}\n\nexport default App","import App from './components/App.js'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}